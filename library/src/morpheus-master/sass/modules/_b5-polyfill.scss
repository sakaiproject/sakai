/*
Polyfill for Sakai 22 - Definitions of B5 utility classes, for use in B5 to make migration to master easier
When needed, add more classes as needed below, just make sure they equal what we expect from the B5
Usage - Use other, non bootstrap classes first, add the "b5" class, and then the added B5 class:
<div class="any-other-class b5 d-flex flex-wrap">...</div>

TODO Master merge: Remove this file
*/

@mixin flex-nowrap {
  flex-wrap: nowrap !important;
}

@mixin flex-row {
  flex-direction: row !important;
}

@mixin align-items-start {
  align-items: start !important;
}

.b5 {
  &.ratio {
    position: relative;
    width: 100%;

    & > * {
      position: absolute;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
    }

    &::before {
      display: block;
      padding-top: var(--bs-aspect-ratio);
      content: "";
    }
  }

  &.ratio-1x1 {
    --bs-aspect-ratio: 100%;
  }

  &.d-flex {
    display: flex !important;
  }

  &.flex-wrap {
    flex-wrap: wrap !important;
  }

  &.flex-nowrap {
    @include flex-nowrap();
  }

  &.flex-column {
    flex-direction: column !important;
  }

  &.flex-grow-1 {
    flex-grow: 1 !important;
  }

  &.justify-content-between {
    justify-content: space-between !important;
  }

  &.align-items-center {
    align-items: center !important;
  }

  &.align-items-stretch {
    align-items: stretch;
  }

  &.me-0 {
    margin-right: 0;
  }

  /* https://getbootstrap.com/docs/5.2/utilities/spacing/#maps */
  &.mt-1 {
    margin-top: $standard-spacing * 0.25 !important;
  }

  &.mt-2 {
    margin-top: $standard-spacing * 0.5 !important;
  }

  &.mb-1 {
    margin-bottom: $standard-spacing * 0.25 !important;
  }

  &.mb-2 {
    margin-bottom: $standard-spacing * 0.5 !important;
  }

  &.ms-1 {
    margin-left: $standard-spacing * 0.25 !important;
  }

  &.ms-2 {
    margin-left: $standard-spacing * 0.5 !important;
  }

  &.ms-3 {
    margin-left: $standard-spacing !important;
  }

  &.ms-4 {
    margin-left: $standard-spacing * 1.5 !important;
  }

  &.ms-5 {
    margin-left: $standard-spacing * 3 !important;
  }

  &.my-1 {
    @extend .mt-1;
    @extend .mb-1;
  }

  &.my-2 {
    @extend .mt-2;
    @extend .mb-2;
  }

  &.gap-1 {
    gap: $standard-spacing * 0.25 !important;
  }

  &.form-text {
    margin-top: $standard-spacing * 0.25;
    font-size: .875em;
  }

  &.text-break {
    word-wrap: break-word !important;
    word-break: break-word !important;
  }

  &.text-nowrap {
    white-space: nowrap;
  }

  &.spinner-border {
    --bs-spinner-width: 2rem;
    --bs-spinner-height: 2rem;
    --bs-spinner-vertical-align: -0.125em;
    --bs-spinner-border-width: 0.25em;
    --bs-spinner-animation-speed: 0.75s;
    --bs-spinner-animation-name: spinner-border;
    border: var(--bs-spinner-border-width) solid currentcolor;
    border-right-color: transparent;
    display: inline-block;
    width: var(--bs-spinner-width);
    height: var(--bs-spinner-height);
    vertical-align: var(--bs-spinner-vertical-align);
    border-radius: 50%;
    animation: var(--bs-spinner-animation-speed) linear infinite var(--bs-spinner-animation-name);
  }

  @keyframes spinner-border {
    to { transform: rotate(360deg); }
  }

  // SM
  @media (min-width: 576px) {
    &.flex-sm-nowrap {
      @include flex-nowrap();
    }

    &.flex-sm-row {
      @include flex-row();
    }

    &.align-items-sm-start {
      @include align-items-start();
    }
  }

}
