<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
        <meta content="noindex, nofollow" name="robots">
        <script src="audiorecorder.js" type="text/javascript"></script>
        <!-- TODO: Old style sheet -->
        <link href="fck_dialog_common.css" rel="stylesheet" type="text/css" />
        <link href="audiorecorder.css" rel="stylesheet" type="text/css" />
</head>

<!-- For i18n support: 
To write text:
<script type="text/javascript">document.write(oEditor.lang.common.browseServer)</script>

To change a value
<script type="text/javascript">document.getElementById("btnBrowse").value = oEditor.lang.common.browseServer;</script>

Local i18n items are in oEditor.lang.audiorecorder.*

-->
<body scroll="no">
                
                       <script type="text/javascript" src="/library/webjars/jquery/1.11.3/jquery.min.js"></script>
                       <script type="text/javascript" src="/library/js/swfobject/swfobject.js"></script>
                       <script type="text/javascript" src="/library/js/recorder/recorder.js"></script>
                       <script type="text/javascript" src="/library/js/recorder/jRecorder.js"></script>
                       <script type="text/javascript" src="/library/js/sakai-recorder.js"></script>
                       <script type="text/javascript">
                               var userMediaSupport = true;
                               var timer;
                               var timeRemaining;
                               var maxWidth;

                               var audio_context;
                               var recorder;

                               var maxSeconds = oEditor.config.audiorecorder.maxSeconds
                               var attemptsAllowed = oEditor.config.audiorecorder.attemptsAllowed
                               var attemptsRemaining = oEditor.config.audiorecorder.attemptsRemaining


                               var postUrl = oEditor.config.fileConnectorUrl+'&Command=QuickUploadAttachment';
                               function updateUrl(url) {
                                    document.getElementById("txtUrl").value = (url);
                               }



                       </script>

<p id="audio-recorder-intro">
  <script>document.write(oEditor.lang.audiorecorder.intro)</script>
    <span id="audio-time-allowed" style="display:none"> </span>
    <span id="audio-attempts" style="display:none"> </span>

  <div id="audio-controls">
    <div id="audio-timer-wrapper"><span id="audio-timer">00</span> / <span id="audio-max-time">30</span> <span><script>document.write(oEditor.lang.audiorecorder.seconds_label)</script></span></div>
    <button id="audio-record" onclick="startRecording(this);"><script>document.write(oEditor.lang.audiorecorder.record)</script></button>
    <button id="audio-stop"   onclick="stopRecording(this);" disabled><script>document.write(oEditor.lang.audiorecorder.stop)</script></button>
    <button id="audio-play" onclick="playRecording(this);" disabled><script>document.write(oEditor.lang.audiorecorder.play)</script></button>
    <button id="audio-upload" onclick="postDataToServer(this);" disabled><script>document.write(oEditor.lang.audiorecorder.post)</script></button>
    <div id="audio-posting" style="display:none"><script>document.write(oEditor.lang.audiorecorder.posting)</script></div>
    <div id="audio-finished" style="display:none"><script>document.write(oEditor.lang.audiorecorder.complete)</script></div>
    <div id="audio-statusbar" style="display:none"> </div>
    <div id="audio-levelbar"> </div>
    <div id="txtUrl" style="display:none"></div>
    <div id="flashrecarea" style="display:none"><p><a href="http://www.adobe.com/go/getflashplayer"><img src="http://www.adobe.com/images/shared/download_buttons/get_flash_player.gif" alt="Get Adobe Flash player" /></a></p></div>
    <canvas id="audio-analyzer" style="display:none"></canvas>
  </div>

  <audio id="audio-html5" style="display:none"> </audio>
  <div id="audio-debug-log" style="display:none">
    <h2>Log</h2>
    <pre id="log"></pre>
  </div>

          <!-- Would be nice if the Browse Server button could go here -->
          <div id="tdBrowse" style="display: none" rowspan="2">
              <input id="btnBrowse" onclick="BrowseServer();" type="button" value="Browse Server" />
              <script type="text/javascript">document.getElementById("btnBrowse").value = oEditor.lang.common.browseServer;</script>
          </div>
                
</body>
</html>
