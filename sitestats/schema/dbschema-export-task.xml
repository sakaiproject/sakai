<project name="dbschema-export-tasks" default="schema-export-mysql_and_oracle" basedir="..">

	<!-- PROPERTIES -->	
		<!-- == ADJUST ME! =============================== -->
	    <!-- <property name="hib-plugin" location="D:/DevApps/eclipse-ganymede/plugins/org.hibernate.eclipse_3.2.4.200810080310-nightly" /> -->
		<property name="hib-plugin" location="D:/DevApps/eclipse-3.2/plugins/org.hibernate.eclipse_3.2.0.beta6" />
		<!-- == ADJUST ME!: END ========================== -->
	
	<property name="hib-mysql-cfg" location="schema/hibernate-mysql.cfg.xml" />
	<property name="hib-oracle-cfg" location="schema/hibernate-oracle.cfg.xml" />
	
	
	
	<!-- TASKDEF -->
	<taskdef name="schemaexport" 
		classname="org.hibernate.tool.hbm2ddl.SchemaExportTask">
		<classpath>
			<fileset dir="${hib-plugin}/lib/">
				<include name="**/*.jar"/>
			</fileset>
		</classpath>
	</taskdef>

	
	
	<!-- TASKS -->	
	<target name="schema-export-mysql_and_oracle" 
		depends="schema-export-mysql,schema-export-oracle" />
	
	<target name="schema-export-mysql">	
		<schemaexport
	    	config="${hib-mysql-cfg}"
	        quiet="false" text="true" drop="false" delimiter=";" 
	        output="schema/mysql_schema-export.sql">
	        <fileset dir=".">
	            <include name="**/*.hbm.xml"/>
	            <exclude name="bin/**"/>
	            <exclude name="*/target/**"/>
	        </fileset>	    	
	    </schemaexport>
	</target>
	
	<target name="schema-export-oracle">	
		<schemaexport
	    	config="${hib-oracle-cfg}"
	        quiet="false" text="true" drop="false" delimiter=";" 
	        output="schema/oracle_schema-export.sql">
	        <fileset dir=".">
	            <include name="**/*.hbm.xml"/>
	            <exclude name="bin/**"/>
	            <exclude name="*/target/**"/>
	        </fileset>	    	
	    </schemaexport>
	</target>
	
</project>