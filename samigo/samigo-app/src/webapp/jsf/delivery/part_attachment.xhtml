<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
    xmlns:h="http://xmlns.jcp.org/jsf/html">

    <div class="tier1" rendered="#{part.hasAttachment}">
        <h:outputLabel value="#{deliveryMessages.attachments}" />
        <br />
        <h:dataTable value="#{part.attachmentList}" var="attach" border="0" rendered="#{part.hasAttachment}">
            <h:column>
                <h:outputText value="&#160;&#160;&#160;&#160;" escape="false" />

                <ui:fragment rendered="#{attach.isInlineVideo and not delivery.fromPrint}">
                    <embed src="#{delivery.protocol}/samigo-app/servlet/ShowAttachmentMedia?resourceId=#{attach.encodedResourceId}&amp;mimeType=#{attach.mimeType}&amp;filename=#{attach.filename}" volume="50" height="350" width="400" autostart="false" />
                </ui:fragment>
                <h:outputText value="#{attach.filename}" rendered="#{attach.isInlineVideo and delivery.fromPrint}" />

                <ui:fragment rendered="#{not delivery.fromPrint and not attach.isInlineImage and attach.isMedia}">
                    <embed src="#{delivery.protocol}/samigo-app/servlet/ShowAttachmentMedia?resourceId=#{attach.encodedResourceId}&amp;mimeType=#{attach.mimeType}&amp;filename=#{attach.filename}" height="350" width="400" />
                </ui:fragment>
                <h:outputText value="#{attach.filename}" rendered="#{delivery.fromPrint and not attach.isInlineImage}" />

                <ui:fragment rendered="#{attach.isInlineImage}">
                    <img class="my-3" src="#{delivery.protocol}/samigo-app/servlet/ShowAttachmentMedia?resourceId=#{attach.encodedResourceId}&amp;mimeType=#{attach.mimeType}&amp;filename=#{attach.filename}" alt="#{attach.filename}" />
                </ui:fragment>

                <h:panelGrid rendered="#{not attach.isMedia and not delivery.fromPrint}" border="0" columns="2">
                    <h:column>
                        <ui:include src="/jsf/shared/mimeicon.xhtml" />
                        <h:outputText value="&#160;&#160;" escape="false" />
                        <h:outputLink value="#{attach.location}" target="new_window">
                            <h:outputText value="#{attach.filename}" />
                        </h:outputLink>
                    </h:column>
                    <h:column>
                        <h:outputText value="&#160;&#160;&#160;&#160;" escape="false" />
                        <h:outputText value="#{attach.fileSize} #{generalMessages.kb}" rendered="#{not attach.isLink}" escape="false" />
                    </h:column>
                </h:panelGrid>

                <h:outputText value="#{attach.filename}" rendered="#{not attach.isMedia and delivery.fromPrint}" />
            </h:column>
        </h:dataTable>
    </div>

</ui:composition>
