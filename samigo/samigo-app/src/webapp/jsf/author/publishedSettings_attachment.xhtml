<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
    xmlns:sakai="http://sakaiproject.org/jsf2/sakai">

    <h:outputLabel styleClass="col-md-10 form-label" value="#{assessmentSettingsMessages.attachments}" />
    <h:panelGroup styleClass="col-md-10" rendered="#{publishedSettings.hasAttachment}">
        <h:dataTable value="#{publishedSettings.attachmentList}" var="attach">
            <h:column>
                <ui:include src="/jsf/shared/mimeicon.xhtml" />
            </h:column>
            <h:column>
                <h:panelGroup layout="block" styleClass="ms-3">
                    <h:outputLink value="#{attach.location}" target="new_window">
                        <h:outputText value="#{attach.filename}" />
                    </h:outputLink>
                </h:panelGroup>
            </h:column>
            <h:column>
                <h:panelGroup layout="block" styleClass="ms-3">
                    <h:outputText escape="false" value="(#{attach.fileSize} #{generalMessages.kb})" rendered="#{!attach.isLink}" />
                </h:panelGroup>
            </h:column>
        </h:dataTable>
    </h:panelGroup>

    <h:panelGroup styleClass="col-md-10" rendered="#{!publishedSettings.hasAttachment}">
        <h:outputText escape="false" value="#{assessmentSettingsMessages.no_attachments}" />
    </h:panelGroup>

    <h:panelGroup styleClass="col-md-offset-2 col-md-10" rendered="#{!publishedSettings.hasAttachment}">
        <sakai:button_bar>
            <h:commandButton action="#{publishedSettings.addAttachmentsRedirect}"
                             value="#{assessmentSettingsMessages.add_attachments}" />
        </sakai:button_bar>
    </h:panelGroup>

    <h:panelGroup styleClass="col-md-offset-2 col-md-10" rendered="#{publishedSettings.hasAttachment}">
        <sakai:button_bar>
            <h:commandButton action="#{publishedSettings.addAttachmentsRedirect}"
                             value="#{assessmentSettingsMessages.add_remove_attachments}" />
        </sakai:button_bar>
    </h:panelGroup>

</ui:composition>
