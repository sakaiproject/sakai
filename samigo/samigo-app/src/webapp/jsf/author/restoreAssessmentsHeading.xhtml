<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
    xmlns:f="http://xmlns.jcp.org/jsf/core"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets">

    <h:panelGroup layout="block">
        <ul class="navIntraTool actionToolbar" role="menu">
            <h:panelGroup
                rendered="#{authorization.createAssessment or authorization.editAnyAssessment or authorization.editOwnAssessment or authorization.gradeAnyAssessment or authorization.gradeOwnAssessment}">
                <li role="menuitem">
                    <span>
                        <h:commandLink title="#{generalMessages.t_assessment}" action="author"
                            immediate="true">
                            <f:actionListener
                                type="org.sakaiproject.tool.assessment.ui.listener.author.AuthorActionListener" />
                            <f:actionListener
                                type="org.sakaiproject.tool.assessment.ui.listener.evaluation.ResetResultsCalculatedListener" />
                            <h:outputText value="#{generalMessages.assessment}" />
                        </h:commandLink>
                    </span>
                </li>
            </h:panelGroup>

            <h:panelGroup rendered="#{authorization.createAssessment}">
                <li role="menuitem">
                    <span>
                        <h:commandLink title="#{generalMessages.add}" action="#{author.getOutcome}"
                            immediate="true">
                            <f:param name="action" value="create_assessment_title" />
                            <f:actionListener
                                type="org.sakaiproject.tool.assessment.ui.listener.author.AuthorAssessmentListener" />
                            <h:outputText value="#{generalMessages.add}" />
                        </h:commandLink>
                    </span>
                </li>
            </h:panelGroup>

            <h:panelGroup rendered="#{authorization.adminTemplate and template.showAssessmentTypes}">
                <li role="menuitem">
                    <span>
                        <h:commandLink title="#{generalMessages.t_template}" action="template"
                            immediate="true">
                            <f:actionListener
                                type="org.sakaiproject.tool.assessment.ui.listener.author.TemplateListener" />
                            <h:outputText value="#{generalMessages.template}" />
                        </h:commandLink>
                    </span>
                </li>
            </h:panelGroup>

            <h:panelGroup rendered="#{authorization.adminQuestionPool}">
                <li role="menuitem">
                    <span>
                        <h:commandLink id="questionPoolsLink"
                            title="#{generalMessages.t_questionPool}" action="poolList"
                            immediate="true">
                            <h:outputText value="#{generalMessages.questionPool}" />
                            <f:actionListener
                                type="org.sakaiproject.tool.assessment.ui.listener.questionpool.QuestionPoolListener" />
                        </h:commandLink>
                    </span>
                </li>
            </h:panelGroup>

            <h:panelGroup rendered="#{authorization.adminQuestionPool}">
                <li role="menuitem">
                    <span>
                        <h:commandLink id="evnetLogLink" accesskey="#{generalMessages.a_log}"
                            title="#{generalMessages.t_eventLog}" action="eventLog"
                            immediate="true">
                            <h:outputText value="#{generalMessages.eventLog}" />
                            <f:actionListener
                                type="org.sakaiproject.tool.assessment.ui.listener.author.EventLogListener" />
                        </h:commandLink>
                    </span>
                </li>
            </h:panelGroup>

            <h:panelGroup rendered="#{authorization.adminQuestionPool}">
                <li role="menuitem">
                    <span>
                        <h:commandLink id="sectionActivity"
                            accesskey="#{generalMessages.a_section_activity}"
                            title="#{generalMessages.t_section_activity}"
                            action="sectionActivity" immediate="true">
                            <h:outputText value="#{generalMessages.section_activity}" />
                            <f:actionListener
                                type="org.sakaiproject.tool.assessment.ui.listener.author.SectionActivityListener" />
                        </h:commandLink>
                    </span>
                </li>
            </h:panelGroup>

            <h:panelGroup rendered="#{authorization.adminAssessment}">
                <li role="menuitem">
                    <span class="current">
                        <h:outputText value="#{generalMessages.restore_assessments}" />
                    </span>
                </li>
            </h:panelGroup>
        </ul>
    </h:panelGroup>

</ui:composition>
