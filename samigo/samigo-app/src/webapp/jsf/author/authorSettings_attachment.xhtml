<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
    xmlns:f="http://xmlns.jcp.org/jsf/core"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:sakai="http://sakaiproject.org/jsf2/sakai"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets">

    <h:outputLabel styleClass="col-md-10 form-label" value="#{assessmentSettingsMessages.attachments}" />
    <div class="col-md-10">

        <h:panelGroup rendered="#{assessmentSettings.hasAttachment}">
            <h:dataTable value="#{assessmentSettings.attachmentList}" var="attach">
                <h:column>
                    <ui:include src="/jsf/shared/mimeicon.xhtml" />
                </h:column>
                <h:column>
                    <h:panelGroup styleClass="ms-3">
                        <h:outputLink value="#{attach.location}" target="new_window">
                            <h:outputText value="#{attach.filename}" />
                        </h:outputLink>
                    </h:panelGroup>
                </h:column>
                <h:column>
                    <h:panelGroup styleClass="ms-3">
                        <h:outputText escape="false"
                                      value="(#{attach.fileSize} #{generalMessages.kb})"
                                      rendered="#{!attach.isLink}" />
                    </h:panelGroup>
                </h:column>
            </h:dataTable>
        </h:panelGroup>

        <h:panelGroup rendered="#{!assessmentSettings.hasAttachment}">
            <h:outputText escape="false" value="#{assessmentSettingsMessages.no_attachments}" />
        </h:panelGroup>

        <h:panelGroup rendered="#{!assessmentSettings.hasAttachment}">
            <sakai:button_bar>
                <h:commandButton action="#{assessmentSettings.addAttachmentsRedirect}"
                                 value="#{assessmentSettingsMessages.add_attachments}" />
            </sakai:button_bar>
        </h:panelGroup>

        <h:panelGroup rendered="#{assessmentSettings.hasAttachment}">
            <sakai:button_bar>
                <h:commandButton action="#{assessmentSettings.addAttachmentsRedirect}"
                                 value="#{assessmentSettingsMessages.add_remove_attachments}" />
            </sakai:button_bar>
        </h:panelGroup>

    </div>

</ui:composition>
