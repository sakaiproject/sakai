<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
    xmlns:f="http://xmlns.jcp.org/jsf/core"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets">

    <h:outputText value="#{question.text}" escape="false" />
    <br />

    <ui:include src="/jsf/delivery/item/attachment.xhtml" />

    <h:dataTable value="#{question.mediaArray}" var="media">
        <h:column>
            <audio controls="controls">
                <source src="/samigo-app/servlet/ShowMedia?mediaId=#{media.mediaId}" type="audio/wav" />
            </audio>
            <br />
            <h:outputText value="#{evaluationMessages.open_bracket}" />
            <h:outputText value="#{media.duration} #{deliveryMessages.secs}, #{deliveryMessages.recorded_on} "
                rendered="#{!media.durationIsOver}" />
            <h:outputText value="#{question.duration} #{deliveryMessages.secs}, #{deliveryMessages.recorded_on} "
                rendered="#{media.durationIsOver}" />
            <h:outputText value="#{media.createdDate}">
                <f:convertDateTime dateStyle="medium" timeStyle="short" timeZone="#{author.userTimeZone}" />
            </h:outputText>
            <h:outputText value="#{evaluationMessages.close_bracket}" />
            <br />

            <div>
                <h:outputFormat value=" #{deliveryMessages.can_you_hear}" escape="false">
                    <f:param value="&lt;a href='#{author.protocol}/samigo-app/servlet/ShowMedia?mediaId=#{media.mediaId}&amp;setMimeType=false'&gt;#{deliveryMessages.can_you_hear_2}&lt;/a&gt;" />
                </h:outputFormat>
            </div>
        </h:column>
    </h:dataTable>

    <h:panelGrid rendered="#{delivery.feedbackComponent.showItemLevel and question.feedbackIsNotEmpty}">
        <h:panelGroup>
            <h:outputLabel for="feedSC" styleClass="answerkeyFeedbackCommentLabel"
                value="#{commonMessages.feedback}: " />
            <h:outputText id="feedSC" value="#{question.feedback}" escape="false" />
        </h:panelGroup>
        <h:outputText value=" " />
    </h:panelGrid>

</ui:composition>
