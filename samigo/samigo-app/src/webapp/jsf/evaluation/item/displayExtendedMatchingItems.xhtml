<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets">

    <h:outputText value="#{question.text}" escape="false" />

    <h3>
        <h:outputText value="#{question.themeText}" escape="false" />
    </h3>
    <br />

    <h:dataTable value="#{question.emiAnswerOptions}" var="option" styleClass="simpleBorder"
        cellspacing="0">
        <h:column>
            <h:panelGroup rendered="#{option.text != null and option.text ne ''}">
                <h:outputText escape="false" value="#{option.label}. #{option.text}" />
            </h:panelGroup>
        </h:column>
    </h:dataTable>

    <h:outputText value="#{question.emiAnswerOptionsRichText}" escape="false"
        rendered="#{question.isAnswerOptionsRich}" />

    <h:dataTable value="#{question.itemAttachmentList}" var="attach"
        rendered="#{question.isAnswerOptionsRich}">
        <h:column rendered="#{!attach.isMedia}">
            <ui:include src="/jsf/shared/mimeicon.xhtml" />
        </h:column>
        <h:column>
            <h:outputText value="&#160;&#160;&#160;&#160;" escape="false" />
            <ui:fragment rendered="#{attach.isInlineVideo}">
                <embed
                    src="#{delivery.protocol}/samigo-app/servlet/ShowAttachmentMedia?actionMode=preview&amp;resourceId=#{attach.encodedResourceId}&amp;mimeType=#{attach.mimeType}&amp;filename=#{attach.filename}"
                    volume="50" height="350" width="400" autostart="false" />
            </ui:fragment>
            <ui:fragment rendered="#{attach.isInlineImage}">
                <img
                    src="#{delivery.protocol}/samigo-app/servlet/ShowAttachmentMedia?actionMode=preview&amp;resourceId=#{attach.encodedResourceId}&amp;mimeType=#{attach.mimeType}&amp;filename=#{attach.filename}" />
            </ui:fragment>
            <h:outputLink value="#{attach.location}" target="new_window" rendered="#{!attach.isMedia}">
                <h:outputText escape="false" value="#{attach.filename}" />
            </h:outputLink>
        </h:column>
        <h:column>
            <h:outputText value="&#160;&#160;&#160;&#160;" escape="false" />
            <h:outputText escape="false" value="#{attach.fileSize} #{generalMessages.kb}"
                rendered="#{!attach.isLink and !attach.isMedia}" />
        </h:column>
    </h:dataTable>

    <br />
    <br />
    <h:outputText escape="false" value="#{question.leadInText}" />
    <br />
    <br />

    <h:dataTable value="#{question.emiQuestionAnswerCombinations}" var="option"
        styleClass="simpleBorder" cellspacing="0">
        <h:column>
            <h:panelGroup rendered="#{option.text != null and option.text ne ''}">
                <h:outputText escape="false" value="#{option.sequence}. #{option.text}" />
                <h:outputLabel value="#{authorMessages.correct_options}:" />
                <h:outputText escape="false" value="#{option.emiCorrectOptionLabels}" />
                <h:outputText escape="false"
                    value="(#{option.requiredOptionsCount} #{authorMessages.answers_required})"
                    rendered="#{option.requiredOptionsCount > 0}" />
            </h:panelGroup>
        </h:column>
    </h:dataTable>

    <ui:include src="/jsf/evaluation/item/displayTags.xhtml" />

</ui:composition>
