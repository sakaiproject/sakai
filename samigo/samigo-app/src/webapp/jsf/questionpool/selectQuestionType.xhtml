<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
    xmlns:f="http://xmlns.jcp.org/jsf/core"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets">

    <f:view>
        <h:head>
            <ui:fragment rendered="#{not empty requestScope['html.head']}">
                <h:outputText value="#{requestScope['html.head']}" escape="false" />
            </ui:fragment>
            <title>
                <h:outputText value="#{authorMessages.item_display_author}" />
            </title>
            <script>
                window.addEventListener("load", () => {
                    const select = document.getElementById("selectQuestionType:selType");
                    if (select &amp;&amp; select.options.length) {
                        select.remove(select.options.length - 1);
                    }
                });
            </script>
        </h:head>

        <h:body onload="#{empty requestScope['html.body.onload'] ? '' : requestScope['html.body.onload']}">
            <div class="portletBody container-fluid">
                <h:form id="selectQuestionType">
                    <ui:include src="/jsf/questionpool/questionpoolHeadings.xhtml" />
                    <br />

                    <h:panelGrid columns="2">
                        <h:outputText styleClass="number" value="1" />
                        <h:panelGroup layout="block">
                            <h:outputText value="#{questionPoolMessages.sel_q_type} " />
                            <h:selectOneMenu id="selType" value="#{itemauthor.itemType}"
                                required="true">
                                <f:selectItems value="#{itemConfig.itemTypeSelectList}" />
                            </h:selectOneMenu>
                            <h:message for="selType" styleClass="validate" />
                        </h:panelGroup>

                        <h:outputText styleClass="number" value="2" />
                        <h:outputText value="#{questionPoolMessages.click_save}" />
                    </h:panelGrid>

                    <p class="act">
                        <h:commandButton type="submit" action="#{itemauthor.doit}"
                            value="#{commonMessages.action_save}" styleClass="active">
                            <f:actionListener
                                type="org.sakaiproject.tool.assessment.ui.listener.author.StartCreateItemListener" />
                            <f:param name="poolId" value="#{questionpool.currentPool.id}" />
                        </h:commandButton>

                        <h:commandButton id="Cancel" value="#{commonMessages.cancel_action}"
                            action="#{questionpool.cancelPool}" immediate="true">
                            <f:actionListener
                                type="org.sakaiproject.tool.assessment.ui.listener.questionpool.CancelPoolListener" />
                            <f:attribute name="returnToParentPool" value="false" />
                        </h:commandButton>
                    </p>
                </h:form>
            </div>
        </h:body>
    </f:view>
</ui:composition>
