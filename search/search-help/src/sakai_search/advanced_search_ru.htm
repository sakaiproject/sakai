<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html version="-//W3C//DTD HTML 3.2//EN">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Расширенный поиск </title>
<link type="text/css" href="/library/skin/tool_base.css" rel="stylesheet">
<link type="text/css" href="/library/skin/default/tool.css" rel="stylesheet">
</head>
<body>
<div class="helpBody">
<h2>Расширенный поиск </h2>
<p>В основе инстумента &quot;Поиск&quot; лежит индексирование материалов с помощью нескольких субиндексов. Во время простого поиска используются только два из них: <em>контекст</em> и <em>содержимое</em>.  <em>Содержимое</em>  состоит из снабженного метками полнотекстового указателя документов сохраняемого и размеченного  индекса систематизированной формы контента. Это значит, что из документа  Word, загруженного в Ресурсы, будет извлечен и проиндексирован весь текст, а из видеоролика - только метаданные. В результатах поиска отображается именно <em>содержимое</em> с выделенными в нем цветом словами поиска. </p>
<p><em>Контекст </em>- это индекс источника содержимого на основе ключевых слов.  Это сайт проекта или курса, на котором хранится содержимое. Когда производится простой поиск, инструмент &quot;Поиск&quot;добавляет к слову поиска <em>+content:&lt;currentsiteid&gt;</em> , где  &lt;currentsiteid&gt; - это контекст, или ID сайта, на котором производится поиск. Такой запрос можно перевести как "<em>результаты должны находиться в пределах этого сайта</em>".</p>
<p>
При поиске можно пользоваться любыми индексами. Например, можно искать только среди объявлений. Тогда запрос может выглядеть так:  <em>+tool:announcement +content:cowslip</em> , а в результате вы получите только объявления, содержащие слово &quot;cowslip&quot;.</p>
<p>
Словарный указатель содержит следующие типы индексов:
</p> 
<ul>
<li>
<b>содержимое: </b>снабженный метками полнотекстовый индекс документов</li>
<li>
<b>контекст:</b> индекс источника содержимого в документе поиска на основе ключевых слов</li>
<li>
<b>инструмент:</b> индекс названия инструмента, которым был создан документ поиска, на основе ключевых слов</li>
<li>
<b>название:</b> снабженный метками  индекс названий документов</li>
<li>
<b>ссылка:</b> индекс ссылок в документе поиска на основе ключевых слов
</ul>
<h2>Информация о Lucene Search </h2>
<p>
В основе обработки запросов лежит Apache Lucene.  Подробнее смотри на
<a href="http://lucene.apache.org/java/docs/queryparsersyntax.html" target="apache" >
http://lucene.apache.org/java/docs/queryparsersyntax.html</a>.</p>


<h3>Определения</h3>
<p>
    Запрос состоит из слов и операторов. Слова делятся на отдельные слова и фразы.
</p>
<p>
    Отдельное слово - это просто отдельно взятое слово, например, "тест" или "превед".
</p>
<p>
    Фраза - это группа слов, взятых в кавычки, например,  "превед медвед".
</p>
<p>
  Несколько отдельных слов можно объединить с помощью Булевых операторов, чтобы создать более сложный запрос (смотри ниже). </p>
<h3>Поиск по окружению </h3>

<p>
        Lucene поддерживает поиск слов, которые находятся на заданном расстояниии друг от друга. Чтобы произвести поиск по окружению, используйте символ  "~" в конце фразы. Например, для того, чтобы найти слова  "apache" и "jakarta" на расстоянии не более 10 слов друг от друга, используйте запрос:    		
</p>
<p>
        "jakarta apache"~10
</p><h3>Булевы операторы
</h3>
<p>
    Булевы опрераторы позволяют объединять слова поиска с помощью логических союзов. Lucene позволяет использовать AND, "+", OR, NOT и "-" в качестве Булевых операторов (Внимание: Булевы опреаторы должны указываться ТОЛЬКО ПРОПИСНЫМИ буквами).  </p>
<p><strong>OR </strong></p>
<p>
        OR - это оператор конъюнкции, т.е. знак ИЛИ. Он является Булевым оператором по умолчанию. Иначе говоря, если между словами не стоит никакой Булев оператор, то запрос обрабатывается , будто между ними стоит OR. Этот оператор связывает два слова поиска, а результатом поиска считается документ, в котором встречается хотя бы одно из этих слов. Вместо слова OR можно использовать символ || .</p>
<p>
        Чтобы найти документы, которые содержат "jakarta apache" или посто "jakarta", используйте запрос:</p>
<p>
        "jakarta apache" jakarta
</p>
<p>
        или</p>
<p>
        "jakarta apache" OR jakarta
</p><p><strong>
    AND
</strong></p>
<p>
        Оператору AND удовлетворяют документы, в которых присутствуют оба слова поиска, неважно, в каком месте документа каждое из них находится. Вместо слова AND можно использовать символ  &&  .</p>
<p>
        Чтобы найти документы, которые содержат "jakarta apache" и "Apache Lucene", используйте запрос:
</p>
<p>
        "jakarta apache" AND "Apache Lucene"
</p><p><strong>
    +
</strong></p>
<p>
        Оператор "+" указывает, что в искомом документе должно обязательно встречаться слово, которое идет после &quot;+&quot;.
</p>
<p>
        Например, чтобы найти документы, которые должны содержать слово "jakarta" и возможно, также содержат слово "apache", используйте запрос:</p>
<p>
        +jakarta apache
</p><p><strong>
    NOT
</strong></p>
<p>
        Оператор NOT исключает из результатов поиска слово после NOT. Вместо слова NOT можно использовать сиимвол !</p>
<p>
        Чтобы найти документы, которые содержат "jakarta apache", но не содержат "Apache Lucene", используйте запрос:
</p>
<p>
        "jakarta apache" NOT "Apache Lucene"
</p>
<p>
        Внимание: Оператор NOT нельзя использоватиь в запросах, в которых участвует лишь одно слово. Например, такой поиск результатов не принесет: </p>
<p>
        NOT "jakarta apache"
</p><h3><strong>
    -
</strong></h3>
<p>
        Оператор "-" исключает из результатов поиска документы, которые содержат слово, указанное после символа "-".</p>
<p>Чтобы найти документы, которые содержат "jakarta apache", но не содержат "Apache Lucene", используйте запрос: </p>
<p>
        "jakarta apache" -"Apache Lucene"
</p>
<h3>
Группировка
</h3>
<p>
    Lucene позволяет с помощью круглых скобок группировать условия поиска, чтобы формировать подзапросы. Это удобно, если вы применяете в запросах Булевы операторы.</p>
<p>
    Чтобы найти документ, в котором встречается одно из слов  "jakarta" или "apache", и еще обязательно встречается "website", используйте запрос:
</p>
<p>
    (jakarta OR apache) AND website
</p><h3>Избегайте специальных символов
</h3>
<p>

    Необходимо избегать в тексте поиска специальных символов, которые используются в синтаксисе языка запросов:
</p>
<p>

    + - && || ! ( ) { } [ ] ^ " ~ * ? : \
</p>
<p>

    Если вам нужно употребить какие-либо из этих символов в стоке поиска, ставьте знак \ перед ним. Например, для поиска формулы (1+1):2 придется составить запрос вида:
    		
</p>
<p>
    \(1\+1\)\:2
</p>
    		










</div>
</body>
</html>
