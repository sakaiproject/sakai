<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE beans PUBLIC "-//SPRING//DTD BEAN//EN" "http://www.springframework.org/dtd/spring-beans.dtd">
<!--
/**********************************************************************************
 * $URL:  $
 * $Id:  $
 ***********************************************************************************
 *
 * Copyright (c) 2003, 2004, 2005, 2006 Sakai Foundation
 *
 * Licensed under the Educational Community License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *       http://www.osedu.org/licenses/ECL-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 **********************************************************************************/
-->
<beans>
 
 
  <bean id="org.sakaiproject.search.component.adapter.contenthosting.ContentHostingContentProducer"
     class="org.sakaiproject.search.component.adapter.contenthosting.ContentHostingContentProducer" 
     init-method="init" 
     >
     <property name="contentHostingService"><ref bean="org.sakaiproject.content.api.ContentHostingService"/></property>
     <property name="entityManager"><ref bean="org.sakaiproject.entity.api.EntityManager" /></property>    
	 <property name="searchService"><ref bean="org.sakaiproject.search.api.SearchService"/></property>
     <property name="searchIndexBuilder"><ref bean="org.sakaiproject.search.api.SearchIndexBuilder" /></property>
	 <property name="siteService"><ref bean="org.sakaiproject.site.api.SiteService"/></property>
     <property name="serverConfigurationService"><ref bean="org.sakaiproject.component.api.ServerConfigurationService"/></property>
     
     <property name="defaultDigester"><ref bean="org.sakaiproject.search.component.adapter.contenthosting.DefaultContentDigester"/></property>
  </bean>
  
   <bean id="org.sakaiproject.search.component.adapter.contenthosting.DefaultContentDigester" 
      class="org.sakaiproject.search.component.adapter.contenthosting.DefaultContentDigester"
      init-method="init" 
      >
   </bean> 
   <bean id="org.sakaiproject.search.component.adapter.contenthosting.PDFContentDigester" 
     class="org.sakaiproject.search.component.adapter.contenthosting.PDFContentDigester"
     init-method="init" 
     destroy-method="destroy"
     >
     <property name="contentProducer" ><ref bean="org.sakaiproject.search.component.adapter.contenthosting.ContentHostingContentProducer" /></property>
     <property name="mimeTypes">
        <map>
           <entry key="application/pdf"><value>application/pdf</value></entry>
           <entry key="application/x-pdf"><value>application/x-pdf</value></entry>
        </map>
     </property>
  </bean> 
  <bean id="org.sakaiproject.search.component.adapter.contenthosting.HtmlContentDigester" 
     class="org.sakaiproject.search.component.adapter.contenthosting.HtmlContentDigester"
     init-method="init" 
     destroy-method="destroy"
     >
     <property name="contentProducer" ><ref bean="org.sakaiproject.search.component.adapter.contenthosting.ContentHostingContentProducer" /></property>
     <property name="mimeTypes">
        <map>
           <entry key="application/xhtml+xml"><value>application/xhtml+xml</value></entry>
           <entry key="application/xml"><value>application/xml</value></entry>
           <entry key="text/html"><value>text/html</value></entry>
           <entry key="text/xhtml"><value>text/xhtml</value></entry>
        </map>
     </property>
  </bean> 
  <bean id="org.sakaiproject.search.component.adapter.contenthosting.PPTContentDigester" 
     class="org.sakaiproject.search.component.adapter.contenthosting.PPTContentDigester"
     init-method="init" 
     destroy-method="destroy" >
     <property name="contentProducer" ><ref bean="org.sakaiproject.search.component.adapter.contenthosting.ContentHostingContentProducer" /></property>
     <property name="mimeTypes">
        <map>
           <entry key="application/ms-powerpoint" ><value>application/ms-powerpoint</value></entry>
           <entry key="application/mspowerpoint" ><value>application/mspowerpoint</value></entry>
           <entry key="application/x-mspowerpoint" ><value>application/x-mspowerpoint</value></entry>
           <entry key="application/msppt" ><value>application/msppt</value></entry>
           <entry key="application/vnd.ms-powerpoint" ><value>application/vnd.ms-powerpoint</value></entry>
           <entry key="application/x-powerpoint" ><value>application/x-powerpoint</value></entry>
           <entry key="application/powerpoint" ><value>application/powerpoint</value></entry>
           <entry key="application/vnd.ms-powerpoint" ><value>application/vnd.ms-powerpoint</value></entry>
        </map>
     </property>
  </bean> 
  <bean id="org.sakaiproject.search.component.adapter.contenthosting.WordContentDigester" 
     class="org.sakaiproject.search.component.adapter.contenthosting.WordContentDigester"
     init-method="init" 
     destroy-method="destroy"
     >
     <property name="contentProducer" ><ref bean="org.sakaiproject.search.component.adapter.contenthosting.ContentHostingContentProducer" /></property>
     <property name="mimeTypes">
        <map>
           <entry key="application/msword"><value>application/msword</value></entry>
           <entry key="application/vnd.ms-word"><value>application/vnd.ms-word</value></entry>
           <entry key="application/ms-word"><value>application/ms-word</value></entry>
           <entry key="application/x-msword"><value>application/x-msword</value></entry>
           <entry key="application/x-ms-word"><value>application/x-ms-word</value></entry>
        </map>
     </property>
  </bean> 

    <bean id="org.sakaiproject.search.component.adapter.contenthosting.XLContentDigester" 
     class="org.sakaiproject.search.component.adapter.contenthosting.XLContentDigester"
     init-method="init" 
     destroy-method="destroy"
     >
       <property name="contentProducer" ><ref bean="org.sakaiproject.search.component.adapter.contenthosting.ContentHostingContentProducer" /></property>
       <property name="mimeTypes">
          <map>
             <entry key="application/msexcel"><value>application/msexcel</value></entry>
             <entry key="application/ms-excel"><value>application/ms-excel</value></entry>
             <entry key="application/vnd.ms-excel"><value>application/vnd.ms-excel</value></entry>
             <entry key="application/x-msexcel"><value>application/x-msexcel</value></entry>       
             <entry key="application/x-ms-excel"><value>application/x-ms-excel</value></entry>       
          </map>
       </property>
    </bean> 
    
    <bean id="org.sakaiproject.search.component.adapter.contenthosting.OOXmlContentDigester" 
     class="org.sakaiproject.search.component.adapter.contenthosting.OOXmlContentDigester"
     init-method="init" 
     destroy-method="destroy"
     >
       <property name="contentProducer" ><ref bean="org.sakaiproject.search.component.adapter.contenthosting.ContentHostingContentProducer" /></property>
       <property name="mimeTypes">
          <map>
             <entry key="application/vnd.openxmlformats"><value>application/vnd.openxmlformats</value></entry>
          </map>
       </property>
    </bean> 
  
</beans>
